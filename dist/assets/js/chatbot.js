let chatbotWrapper,chatbotContainer,chatbotToggle,chatbotClose,messagesList,messageInput,chatbotForm,typingIndicator;const presetQAList=[{question:["你好","hello","hi"],answer:"你好！我是Moonlight助手，有什么可以帮您的吗？"},{question:["介绍","简介","关于网站"],answer:"Moonlight是由名（Likem）搭建的个人博客项目，用于记录分享软件操作技巧、生活日常、技术学习等。"},{question:["你是谁","你叫什么"],answer:"我是Moonlight助手，这个网站的问答机器人。"},{question:["更多","其他功能"],answer:"您好！Moonlight博客目前正在建设中，功能尚不完善，敬请期待！"},{question:["帮助","help","怎么用"],answer:"我可以帮您了解网站的功能、导航到特定页面，或者回答关于博客的问题。请告诉我您想了解什么？"},{question:["博主是谁？","博主","站长是谁"],answer:"博主是名（Likem），热爱技术和创新，专注于AI、云计算和大数据、软件操作等。"},{question:["联系","如何联系站长？","博主的联系方式有哪些？","联系方式"],answer:"您可以通过页面底部的社交媒体链接或邮箱联系博主。"},{question:["功能","网站有哪些功能？","有什么功能"],answer:"本站支持文章浏览、评论、主题切换、聊天机器人等功能。"},{question:["主题","切换主题？","如何切换深色/浅色主题？","主题切换","深色模式"],answer:"点击右上角的月亮/太阳图标即可切换明暗主题。"},{question:["注册","如何注册？","注册账号"],answer:"目前本站暂未开放注册功能，敬请期待后续更新。"},{question:["推荐文章","有推荐的文章吗？","热门文章"],answer:"您可以在首页查看最新文章，或通过导航栏的'文章'页面浏览所有文章。"},{question:["技术栈","博主的技术栈有哪些？","技术","技能"],answer:"前端：HTML5、CSS3、JavaScript、Vue、React；后端：PHP、Node.js、MySQL、Redis。"},{question:["AI工具","博主推荐哪些AI工具？","人工智能工具"],answer:"推荐ChatGPT、Notion AI、FLUX、Stable Diffusion等。"},{question:["数学公式","博客支持哪些数学公式和代码高亮？","latex"],answer:"支持LaTeX数学公式和多种编程语言的代码高亮。"},{question:["代码高亮","代码","编程"],answer:"支持多种编程语言的代码高亮。"},{question:["经验分享","博主的学习/成长经历？","学习经历"],answer:"博主正在学习中，热爱技术创新，喜欢分享和交流。"},{question:["编程语言","博主最喜欢的编程语言？","语言"],answer:"最喜欢JavaScript和Python，简单高效，生态丰富。"},{question:["书籍","博主推荐的书籍/资源？","推荐书籍"],answer:"推荐《Behind Bars》《深入浅出Node.js》《人工智能简史》等。"},{question:["移动端","博客是否支持移动端访问？","手机","平板"],answer:"博客采用响应式设计，手机、平板均可流畅访问。"},{question:["收藏","如何收藏/分享文章？","分享"],answer:"可通过浏览器自带的收藏功能或复制链接分享。"},{question:["未来计划","博主的未来计划是什么？","计划"],answer:"持续优化博客功能，分享更多AI与软件操作技巧，欢迎关注！"},{question:["评论","如何评论","留言"],answer:"目前评论功能正在开发中，敬请期待！"},{question:["搜索","如何搜索文章","查找"],answer:"您可以通过导航栏的文章页面浏览所有文章，搜索功能正在开发中。"},{question:["订阅","如何订阅更新","rss"],answer:"RSS订阅功能正在开发中，敬请期待！"},{question:["版权","版权信息","转载"],answer:"本站内容版权归博主所有，转载请注明出处。"},{question:["更新","网站多久更新一次","更新频率"],answer:"博主会定期更新文章，具体频率请关注最新动态。"},{question:["反馈","如何反馈问题","建议"],answer:"您可以通过页面底部的联系方式向博主反馈问题或建议。"}],welcomeMessages=["我是Moonlight助手，可以帮您：","1. 了解博客内容和功能","2. 回答常见问题","3. 提供导航帮助"];function showTypingIndicator(){if(!messagesList)return;removeTypingIndicator();const e=document.createElement("div");e.className="message bot-message typing-indicator",e.innerHTML="<span></span><span></span><span></span>",e.id="typing-indicator",messagesList.appendChild(e),scrollToBottom()}function removeTypingIndicator(){var e=document.getElementById("typing-indicator");e&&e.remove()}function scrollToBottom(){messagesList&&(messagesList.scrollTop=messagesList.scrollHeight)}document.addEventListener("DOMContentLoaded",(function(){({toggle:document.querySelector(".chatbot-toggle"),container:document.querySelector(".chatbot-container"),messages:document.querySelector(".chatbot-messages"),input:document.querySelector(".chatbot-input"),sendBtn:document.querySelector(".chatbot-submit"),init(){this.toggle.addEventListener("click",(()=>this.toggleChatbot()));const e=document.querySelector(".chatbot-form");e&&e.addEventListener("submit",(e=>{e.preventDefault(),this.sendMessage()})),this.input.addEventListener("keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),this.sendMessage())}));const t=document.querySelector(".chatbot-close");t&&t.addEventListener("click",(()=>{this.container.classList.remove("active")})),this.showWelcome()},toggleChatbot(){this.container.classList.toggle("active")},sendMessage(){const e=this.input.value.trim();e&&(this.addMessage(e,"user"),this.input.value="",setTimeout((()=>{const t=this.getResponse(e);this.addMessage(t,"bot")}),500))},addMessage(e,t){const s=document.createElement("div");s.className=`chatbot-message ${t}`;const n=document.createElement("div");n.className="message-bubble",n.textContent=e,s.appendChild(n),this.messages.appendChild(s),this.messages.scrollTop=this.messages.scrollHeight},getResponse(e){const t=e.trim().toLowerCase();for(const e of presetQAList)for(const s of e.question)if(t===s.toLowerCase())return e.answer;for(const e of presetQAList)for(const s of e.question)if(t.includes(s.toLowerCase())||s.toLowerCase().includes(t))return e.answer;return"抱歉，我还在学习中，暂时无法回答这个问题。您可以尝试提问："+presetQAList.slice(0,3).map((e=>e.question[0])).join(" / ")},showWelcome(){this.addMessage("你好，我是Moonlight助手，有什么可以帮您的吗？","bot")}}).init()}));