<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moonlight博客 | 个人博客</title>
    <!-- CSS 文件 -->
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/chatbot.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="theme-auto">
    <div class="stars-container">
        <div class="stars"></div>
        <div class="stars2"></div>
        <div class="stars3"></div>
    </div>
    
    <div class="clouds">
        <div class="cloud cloud1"></div>
        <div class="cloud cloud2"></div>
        <div class="cloud cloud3"></div>
    </div>
    
    <div class="moonlight"></div>
    
    <header class="glass-panel">
        <div class="container">
            <div class="logo">
                <h1>Moonlight博客</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="active">首页</a></li>
                    <li><a href="#articles">文章</a></li>
                    <li><a href="#about">关于</a></li>
                </ul>
            </nav>
            <div class="theme-toggle">
                <button id="theme-toggle-btn">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </header>
    
    <main>
        <section id="hero" class="parallax">
            <div class="container">
                <div class="glass-panel hero-content">
                    <h2 class="fade-in">欢迎来到Moonlight博客</h2>
                    <p class="fade-in delay-1">在这里，思绪如云，文字如月光般流淌</p>
                    <a href="#articles" class="btn glass-btn fade-in delay-2">探索文章</a>
                </div>
            </div>
        </section>
        
        <!-- 新增：个人信息模块 -->
        <section id="profile" class="section">
            <div class="container">
                <div class="section-title glass-panel">
                    <h2>关于博主</h2>
                </div>
                
                <div class="profile-container glass-panel">
                    <div class="profile-avatar">
                        <img src="/assets/images/avatar.jpg" alt="博主头像">
                    </div>
                    <div class="profile-info">
                        <h3>名</h3>
                        <p class="profile-bio">学生，热爱技术和创新，专注于绘画、文字排版，人工智能、云计算和大数据领域的研究与应用。喜欢探索新技术，用代码创造美好的数字世界。</p>
                        <div class="profile-stats">
                            <div class="stat-item">
                                <i class="fas fa-file-alt"></i>
                                <span>2 篇文章</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-code"></i>
                                <span>3 个项目</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-calendar-alt"></i>
                                <span>2024年加入</span>
                            </div>
                        </div>
                        <div class="profile-social">
                            <a href="https://github.com/LKM-lkm" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
                            <a href="https://twitter.com/moonlight" target="_blank" title="Twitter"><i class="fab fa-twitter"></i></a>
                            <a href="mailto:lkm836972@outlook.com" title="邮箱"><i class="fas fa-envelope"></i></a>
                            <a href="#" title="B站"><i class="fab fa-bilibili"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="articles" class="section">
            <div class="container">
                <h2 class="section-title">最新文章</h2>
                <div class="articles-grid" id="articles-container">
                    <!-- 文章卡片将通过JavaScript加载 -->
                    <div class="article-card glass-panel skeleton">
                        <div class="article-image skeleton-image"></div>
                        <div class="article-content">
                            <div class="skeleton-line"></div>
                            <div class="skeleton-line"></div>
                            <div class="skeleton-line"></div>
                        </div>
                    </div>
                    <div class="article-card glass-panel skeleton">
                        <div class="article-image skeleton-image"></div>
                        <div class="article-content">
                            <div class="skeleton-line"></div>
                            <div class="skeleton-line"></div>
                            <div class="skeleton-line"></div>
                        </div>
                    </div>
                    <div class="article-card glass-panel skeleton">
                        <div class="article-image skeleton-image"></div>
                        <div class="article-content">
                            <div class="skeleton-line"></div>
                            <div class="skeleton-line"></div>
                            <div class="skeleton-line"></div>
                        </div>
                    </div>
                </div>
                <div class="articles-pagination glass-panel">
                    <button class="pagination-btn" id="prev-page" disabled>
                        <i class="fas fa-chevron-left"></i> 上一页
                    </button>
                    <span id="page-indicator">1 / 1</span>
                    <button class="pagination-btn" id="next-page" disabled>
                        下一页 <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </section>
    </main>
    
    <!-- 聊天机器人组件 -->
    <div class="chatbot-wrapper">
        <button class="chatbot-toggle" id="chatbot-toggle">
            <i class="fas fa-comments"></i>
        </button>
        
        <div class="chatbot-container" id="chatbot-container">
            <div class="chatbot-header">
                <h3>Moonlight助手</h3>
                <button class="chatbot-close" id="chatbot-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="chatbot-messages" id="chatbot-messages">
                <!-- 消息将通过JavaScript动态加载 -->
            </div>
            
            <form class="chatbot-form" id="chatbot-form">
                <input type="text" id="chatbot-input" placeholder="请输入您的问题..." autocomplete="off">
                <button type="submit">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </form>
        </div>
    </div>
    
    <footer class="glass-panel">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Moonlight博客</h3>
                    <p>一个梦幻朦胧之美的个人博客空间</p>
                </div>
                <div class="footer-section">
                    <h3>联系方式</h3>
                    <div class="social-icons">
                        <a href="https://github.com/LKM-lkm" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
                        <a href="https://twitter.com/moonlight" target="_blank" title="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="mailto:lkm836972@outlook.com" title="邮箱"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>站点地图</h3>
                    <ul>
                        <li><a href="#">首页</a></li>
                        <li><a href="#articles">文章</a></li>
                        <li><a href="#about">关于</a></li>
                        <li><a href="admin/login.html">管理入口</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; <span id="year"></span> Moonlight博客 - 保留所有权利</p>
            </div>
        </div>
    </footer>
    
    <!-- JavaScript 文件 -->
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/theme-switcher.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // 设置年份
        document.getElementById('year').textContent = new Date().getFullYear();

        // 主题切换功能
        const themeToggleBtn = document.getElementById('theme-toggle-btn');
        const body = document.body;
        const icon = themeToggleBtn.querySelector('i');
        
        // 检查本地存储中的主题设置
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            body.className = savedTheme;
            icon.className = savedTheme === 'theme-dark' ? 'fas fa-sun' : 'fas fa-moon';
        }
        
        themeToggleBtn.addEventListener('click', () => {
            if (body.className === 'theme-dark') {
                body.className = 'theme-light';
                icon.className = 'fas fa-moon';
                localStorage.setItem('theme', 'theme-light');
            } else {
                body.className = 'theme-dark';
                icon.className = 'fas fa-sun';
                localStorage.setItem('theme', 'theme-dark');
            }
        });

        // 聊天机器人功能
        const chatbotToggle = document.getElementById('chatbot-toggle');
        const chatbotContainer = document.getElementById('chatbot-container');
        const chatbotClose = document.getElementById('chatbot-close');
        const chatbotForm = document.getElementById('chatbot-form');
        const chatbotInput = document.getElementById('chatbot-input');
        const chatbotMessages = document.getElementById('chatbot-messages');

        // 初始化欢迎消息
        const welcomeMessages = [
            '欢迎来到Moonlight博客！我是Moonlight助手。',
            '我可以帮您：',
            '1. 了解博客内容和功能',
            '2. 回答常见问题',
            '3. 提供导航帮助'
        ];

        // 添加欢迎消息
        welcomeMessages.forEach(message => {
            addBotMessage(message);
        });

        // 切换聊天机器人显示状态
        chatbotToggle.addEventListener('click', () => {
            chatbotContainer.classList.toggle('active');
            if (chatbotContainer.classList.contains('active')) {
                chatbotInput.focus();
            }
        });

        // 关闭聊天机器人
        chatbotClose.addEventListener('click', () => {
            chatbotContainer.classList.remove('active');
        });

        // 处理消息提交
        chatbotForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const message = chatbotInput.value.trim();
            
            if (message) {
                addUserMessage(message);
                chatbotInput.value = '';
                
                // 显示输入中动画
                showTypingIndicator();
                
                // 模拟回复延迟
                setTimeout(() => {
                    removeTypingIndicator();
                    handleUserMessage(message);
                }, 1000);
            }
        });

        // 添加用户消息
        function addUserMessage(text) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user-message';
            messageDiv.innerHTML = `<div class="message-content">${text}</div>`;
            chatbotMessages.appendChild(messageDiv);
            scrollToBottom();
        }

        // 添加机器人消息
        function addBotMessage(text) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message bot-message';
            messageDiv.innerHTML = `<div class="message-content">${text}</div>`;
            chatbotMessages.appendChild(messageDiv);
            scrollToBottom();
        }

        // 显示输入中动画
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot-message typing-indicator';
            typingDiv.innerHTML = '<span></span><span></span><span></span>';
            typingDiv.id = 'typing-indicator';
            chatbotMessages.appendChild(typingDiv);
            scrollToBottom();
        }

        // 移除输入中动画
        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        // 滚动到底部
        function scrollToBottom() {
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        // 处理用户消息
        function handleUserMessage(message) {
            const responses = {
                '你好': '你好！很高兴见到你！请问有什么我可以帮你的吗？',
                '关于': '这是一个个人博客网站，博主是一名学生，热爱技术和创新。主要关注绘画、文字排版、人工智能、云计算和大数据领域。',
                '文章': '您可以在首页查看最新文章，或者通过导航栏的"文章"页面浏览所有文章。',
                '联系': '您可以通过页面底部的社交媒体链接或者邮箱联系博主。',
                '帮助': '我可以帮您了解网站的功能、导航到特定页面，或者回答关于博客的问题。请告诉我您想了解什么？'
            };

            let response = '抱歉，我还在学习中。您可以试试问我：\n- 你好\n- 关于\n- 文章\n- 联系\n- 帮助';

            // 简单的模糊匹配
            for (let key in responses) {
                if (message.toLowerCase().includes(key)) {
                    response = responses[key];
                    break;
                }
            }

            addBotMessage(response);
        }
    });
    </script>
</body>
</html>