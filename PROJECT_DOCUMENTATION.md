# æœˆå…‰äº‘æµ·åšå®¢ç³»ç»Ÿ - é¡¹ç›®æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœˆå…‰äº‘æµ·åšå®¢æ˜¯ä¸€ä¸ªåŸºäºç°ä»£WebæŠ€æœ¯æ„å»ºçš„ä¸ªäººåšå®¢ç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå…·æœ‰ä¼˜é›…çš„æœˆå…‰ä¸»é¢˜è®¾è®¡å’Œä¸°å¯Œçš„åŠŸèƒ½ç‰¹æ€§ã€‚

### ğŸ¯ é¡¹ç›®ç›®æ ‡

- æ„å»ºä¸€ä¸ªç¾è§‚ã€åŠŸèƒ½ä¸°å¯Œçš„ä¸ªäººåšå®¢ç³»ç»Ÿ
- å®ç°ä»æ–‡ä»¶å¤¹è¯»å–æ–‡ä»¶çš„æ¨¡å—åŒ–æ¶æ„
- æä¾›å®Œæ•´çš„åå°ç®¡ç†åŠŸèƒ½
- æ”¯æŒå¤šè®¾å¤‡å“åº”å¼è®¾è®¡
- é›†æˆAIèŠå¤©æœºå™¨äººåŠŸèƒ½
- å®ç°ç»ç’ƒæ‹Ÿæ€UIè®¾è®¡é£æ ¼

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **HTML5/CSS3**: ç°ä»£Webæ ‡å‡†
- **JavaScript (ES6+)**: æ ¸å¿ƒç¼–ç¨‹è¯­è¨€
- **Webpack**: æ¨¡å—æ‰“åŒ…å·¥å…·
- **Tailwind CSS**: å®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶
- **Alpine.js**: è½»é‡çº§JavaScriptæ¡†æ¶
- **Marked.js**: Markdownæ¸²æŸ“å¼•æ“
- **Chart.js**: æ•°æ®å¯è§†åŒ–åº“

### åç«¯æŠ€æœ¯æ ˆ
- **Cloudflare Workers**: è¾¹ç¼˜è®¡ç®—å¹³å°
- **PHP**: æœåŠ¡å™¨ç«¯è„šæœ¬è¯­è¨€
- **MySQL**: å…³ç³»å‹æ•°æ®åº“
- **Redis**: ç¼“å­˜ç³»ç»Ÿ
- **JWT**: èº«ä»½è®¤è¯

### å¼€å‘å·¥å…·
- **Git**: ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
- **npm**: Node.jsåŒ…ç®¡ç†å™¨
- **Wrangler**: Cloudflareéƒ¨ç½²å·¥å…·
- **Jest**: å•å…ƒæµ‹è¯•æ¡†æ¶

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
moonlight-blog/
â”œâ”€â”€ ğŸ“ admin/                    # åå°ç®¡ç†ç³»ç»Ÿ
â”‚   â”œâ”€â”€ ğŸ“ api/                  # APIæ¥å£
â”‚   â”œâ”€â”€ ğŸ“ assets/               # åå°èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ views/                # åå°é¡µé¢æ¨¡æ¿
â”‚   â”œâ”€â”€ ğŸ“ includes/             # PHPç±»åº“
â”‚   â””â”€â”€ ğŸ“ dashboard/            # ä»ªè¡¨ç›˜é¡µé¢
â”œâ”€â”€ ğŸ“ assets/                   # é™æ€èµ„æº
â”‚   â”œâ”€â”€ ğŸ“ css/                  # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ js/                   # JavaScriptæ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ images/               # å›¾ç‰‡èµ„æº
â”‚   â””â”€â”€ ğŸ“ fonts/                # å­—ä½“æ–‡ä»¶
â”œâ”€â”€ ğŸ“ src/                      # æºä»£ç 
â”‚   â”œâ”€â”€ index.js                 # ä¸»å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ worker.js                # Cloudflare Worker
â”œâ”€â”€ ğŸ“ data/                     # æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ profile.json             # åšä¸»ä¿¡æ¯
â”‚   â”œâ”€â”€ ğŸ“ articles/             # æ–‡ç« æ•°æ®
â”‚   â””â”€â”€ ğŸ“ chatbot/              # èŠå¤©è®°å½•
â”œâ”€â”€ ğŸ“ server/                   # æœåŠ¡å™¨ç«¯è„šæœ¬
â”œâ”€â”€ ğŸ“ config/                   # é…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“ scripts/                  # æ„å»ºè„šæœ¬
â””â”€â”€ ğŸ“ dist/                     # æ„å»ºè¾“å‡ºç›®å½•
```

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### âœ… å·²å®ç°åŠŸèƒ½

#### 1. å‰ç«¯ç•Œé¢
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœº
- **æœˆå…‰ä¸»é¢˜**: ä¼˜é›…çš„ç»ç’ƒæ‹Ÿæ€è®¾è®¡é£æ ¼
- **æš—é»‘æ¨¡å¼**: æ”¯æŒæ·±æµ…ä¸»é¢˜åˆ‡æ¢
- **åŠ¨ç”»æ•ˆæœ**: æµç•…çš„éçº¿æ€§åŠ¨ç”»
- **æ–‡ç« å±•ç¤º**: Markdownæ¸²æŸ“ï¼Œæ”¯æŒä»£ç é«˜äº®
- **èŠå¤©æœºå™¨äºº**: AIåŠ©æ‰‹å¯¹è¯åŠŸèƒ½

#### 2. åå°ç®¡ç†
- **ç”¨æˆ·è®¤è¯**: å®‰å…¨çš„ç™»å½•ç³»ç»Ÿ
- **ä»ªè¡¨ç›˜**: æ•°æ®ç»Ÿè®¡å’Œæ¦‚è§ˆ
- **æ–‡ç« ç®¡ç†**: åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤æ–‡ç« 
- **ç”¨æˆ·ç®¡ç†**: ç”¨æˆ·æƒé™å’Œè§’è‰²ç®¡ç†
- **ç³»ç»Ÿè®¾ç½®**: ç«™ç‚¹é…ç½®å’Œé‚®ä»¶è®¾ç½®

#### 3. å†…å®¹ç³»ç»Ÿ
- **Markdownæ”¯æŒ**: å®Œæ•´çš„Markdownè¯­æ³•æ”¯æŒ
- **å›¾ç‰‡ç®¡ç†**: å›¾ç‰‡ä¸Šä¼ å’Œå±•ç¤º
- **æ–‡ä»¶ä¸‹è½½**: æ”¯æŒå„ç§æ–‡ä»¶ç±»å‹ä¸‹è½½
- **LaTeXå…¬å¼**: æ•°å­¦å…¬å¼æ¸²æŸ“
- **ä»£ç é«˜äº®**: è¯­æ³•é«˜äº®æ˜¾ç¤º

### ğŸ”„ å¼€å‘ä¸­åŠŸèƒ½

#### 1. å†…å®¹ç®¡ç†
- [ ] æ–‡ç« åˆ†ç±»å’Œæ ‡ç­¾ç³»ç»Ÿ
- [ ] è‰ç¨¿ä¿å­˜åŠŸèƒ½
- [ ] æ–‡ç« ç‰ˆæœ¬æ§åˆ¶
- [ ] æ‰¹é‡æ“ä½œåŠŸèƒ½

#### 2. ç”¨æˆ·ç³»ç»Ÿ
- [ ] ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½
- [ ] ç”¨æˆ·èµ„æ–™ç¼–è¾‘
- [ ] å¤´åƒä¸Šä¼ åŠŸèƒ½
- [ ] è§’è‰²æƒé™ç»†åŒ–

#### 3. äº¤äº’åŠŸèƒ½
- [ ] è¯„è®ºç³»ç»Ÿ
- [ ] ç‚¹èµåŠŸèƒ½
- [ ] åˆ†äº«åŠŸèƒ½
- [ ] æœç´¢åŠŸèƒ½

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒæ­å»º

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- npm >= 8.0.0
- PHP >= 8.0
- MySQL >= 8.0

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/LKM-lkm/moonlight-blog.git
cd moonlight-blog
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ç­‰ä¿¡æ¯
```

4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

## ğŸ“¦ æ„å»ºå’Œéƒ¨ç½²

### æœ¬åœ°æ„å»º
```bash
# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ„å»º
npm run build

# æ„å»ºå¹¶éƒ¨ç½²
npm run deploy
```

### Cloudflare Pages éƒ¨ç½²

1. **é…ç½® wrangler.toml**
```toml
name = "moonlight-blog"
main = "src/worker.js"
compatibility_date = "2024-01-01"

[build]
command = "npm run build"
pages_build_output_dir = "dist"
```

2. **éƒ¨ç½²å‘½ä»¤**
```bash
wrangler pages deploy dist
```

## ğŸ› å·²çŸ¥é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 1. æ„å»ºé”™è¯¯ä¿®å¤

#### é—®é¢˜ï¼šadmin.js ä¸­å‡½æ•°é‡å¤å£°æ˜
**é”™è¯¯ä¿¡æ¯**: `Identifier 'showMessage' has already been declared`

**è§£å†³æ–¹æ¡ˆ**: 
- å·²ä¿®å¤ `admin/assets/js/admin.js` ä¸­çš„é‡å¤å£°æ˜
- ä¿ç•™ `adminUtils.showMessage` å®šä¹‰
- ä¿®æ”¹ `adminApp.showMessage` ä¸ºè°ƒç”¨ `adminUtils.showMessage`

#### é—®é¢˜ï¼šç¼ºå¤±çš„ chatbot.js æ–‡ä»¶
**é”™è¯¯ä¿¡æ¯**: `Can't resolve '../assets/js/chatbot.js'`

**è§£å†³æ–¹æ¡ˆ**: 
- ç¡®è®¤ `assets/js/chatbot.js` æ–‡ä»¶å­˜åœ¨
- æ£€æŸ¥æ–‡ä»¶è·¯å¾„å’Œå¯¼å…¥è¯­å¥

#### é—®é¢˜ï¼šå­—ä½“æ–‡ä»¶ç›®å½•ç¼ºå¤±
**é”™è¯¯ä¿¡æ¯**: `unable to locate '/opt/buildhome/repo/assets/fonts' glob`

**è§£å†³æ–¹æ¡ˆ**: 
- å·²åˆ›å»º `assets/fonts` ç›®å½•
- æ›´æ–°å­—ä½“é…ç½®ä½¿ç”¨ç³»ç»Ÿå­—ä½“æ ˆ
- æ·»åŠ å­—ä½“æ–‡ä»¶è¯´æ˜æ–‡æ¡£

### 2. Webpack é…ç½®ä¼˜åŒ–

#### ä¿®å¤å†…å®¹ï¼š
- æ·»åŠ  admin.js ä½œä¸ºç‹¬ç«‹å…¥å£
- ä¿®å¤æ–‡ä»¶å¤åˆ¶é…ç½®
- ä¼˜åŒ–æ„å»ºè¾“å‡ºç»“æ„

### 3. æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### å‰ç«¯ä¼˜åŒ–ï¼š
- [ ] å®ç°å›¾ç‰‡æ‡’åŠ è½½
- [ ] æ·»åŠ èµ„æºå‹ç¼©
- [ ] é…ç½®CDNåŠ é€Ÿ
- [ ] å®ç°é¡µé¢ç¼“å­˜

#### åç«¯ä¼˜åŒ–ï¼š
- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] Redisç¼“å­˜é…ç½®
- [ ] APIå“åº”å‹ç¼©
- [ ] é™æ€èµ„æºç¼“å­˜

## ğŸ“Š é¡¹ç›®çŠ¶æ€

### å®Œæˆåº¦ç»Ÿè®¡
- **å‰ç«¯ç•Œé¢**: 85% âœ…
- **åå°ç®¡ç†**: 70% âœ…
- **å†…å®¹ç³»ç»Ÿ**: 60% ğŸ”„
- **ç”¨æˆ·ç³»ç»Ÿ**: 40% ğŸ”„
- **æ€§èƒ½ä¼˜åŒ–**: 30% ğŸ”„

### è¿‘æœŸè®¡åˆ’
1. **ä¼˜å…ˆçº§1**: ä¿®å¤æ‰€æœ‰æ„å»ºé”™è¯¯
2. **ä¼˜å…ˆçº§2**: å®Œå–„æ–‡ç« ç®¡ç†ç³»ç»Ÿ
3. **ä¼˜å…ˆçº§3**: å®ç°è¯„è®ºåŠŸèƒ½
4. **ä¼˜å…ˆçº§4**: ä¼˜åŒ–æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥
- éµå¾ª Prettier ä»£ç æ ¼å¼åŒ–
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ·»åŠ é€‚å½“çš„æ³¨é‡Š

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### é—®é¢˜åé¦ˆ
- æäº¤ Issue: [GitHub Issues](https://github.com/LKM-lkm/moonlight-blog/issues)
- é‚®ä»¶è”ç³»: [email protected]

### æ–‡æ¡£èµ„æº
- [é¡¹ç›® Wiki](https://github.com/LKM-lkm/moonlight-blog/wiki)
- [API æ–‡æ¡£](docs/api.md)
- [éƒ¨ç½²æŒ‡å—](docs/deployment.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

**æœ€åæ›´æ–°**: 2024å¹´1æœˆ
**ç‰ˆæœ¬**: 1.0.0
**ç»´æŠ¤è€…**: LKM-lkm 